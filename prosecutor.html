<!DOCTYPE HTML>
<html>
<head>
	<title>The Prosecutor's Fallacy</title>
	<link href="styles.css" type="text/css" rel="stylesheet"/>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<style>
		body p {
			font-size: 16px;
			line-height: 1.4em;
		}

		#prob, #pop {
			width: 60px;
		}

		#calculate {margin-left: 20px;}
	</style>

	<script>
		function numberWithCommas(x) {
		    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
		}

		function calculate() {
			var prob = $("#prob").val() / 100;
			var pop = $("#pop").val();
			$("#prob_field").html($("#prob").val() + "%");
			$("#pop_field").html(numberWithCommas(pop));
			$("#prob2_field").html(prob);
			$("#pop2_field").html(pop);
			$("#people_field").html(Math.round(prob * pop));
			$("#prob3_field").html(Math.round(prob * pop));
		}

		$(document).ready(function() {
			$('input').keypress(function (e) {
			  if (e.which == 13) {
			  	e.preventDefault();
			    calculate();
			  }
			});

			calculate();
		});
	</script>
</head>

<body>
	<div id="wrapper">
		<h1 id="page_title">The Prosecutor's Fallacy</h1>

		<h2>The Prosecutor's Argument</h2>
		<img src="images/prosecutor.gif" style="width: 250px; height: auto; float: left; margin-right: 20px;"/>
		<p>Your Honor. This subject matches the descriptions for the perpetrator perfectly. He's male, 6-ft tall, between 20 and 25 years old, white, and has a birth mark in a shape of a circle on your forehead.</p>
		<p>There's only a 0.0000002% chance of any random individual having all of these characteristics. Therefore, we can be very sure that this is indeed the criminal we are certain for!</p>

		<div class="clear"></div>

		<h2>Is He Right?</h2>
		<form>
			<label for="probability">Probability of Matching Description: </label><input type="text" id="prob" value="0.0002"/> %<br/><br/>
			<label for="population">Population Size: </label><input type="text" id="pop" value="8406000"/>
			<input type="button" value="Calculate" id="calculate"/>
		</form>
		<p>With the above assumptions, there's a <b id="prob_field"></b> chance of anyone in the city fitting the description.<p>
		<p>There are <b id="pop_field"></b> people in the city. That means there are roughly
		<span style="text-align:center;"><b id="prob2_field"></b> * <b id="pop2_field"></b> &asymp; <b id="people_field"></b></span>
		people fitting those descriptions in that city.</p>
		<p>The chance that any one person in that city that fits those descriptions is the actual criminal is therefore <b>1/</b><b id="prob3_field"></b>.</p>
	</div>
</body>

</html>